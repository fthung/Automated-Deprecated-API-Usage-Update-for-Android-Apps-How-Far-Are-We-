\documentclass[conference]{IEEEtran}
\IEEEoverridecommandlockouts
% The preceding line is only needed to identify funding in the first footnote. If that is unneeded, please comment it out.
\usepackage{cite, balance}
\usepackage{amsmath,amssymb,amsfonts}
\usepackage{algorithmic}
\usepackage{algorithm2e}
\usepackage{graphicx}
\usepackage{textcomp}
\usepackage{xcolor}
\usepackage{url}
\usepackage{array}
\usepackage{multirow}
\usepackage{amssymb}
\def\BibTeX{{\rm B\kern-.05em{\sc i\kern-.025em b}\kern-.08em
    T\kern-.1667em\lower.7ex\hbox{E}\kern-.125emX}}

\definecolor{red}{HTML}{9B0000}
\definecolor{lightred}{HTML}{FF5131}
\definecolor{green}{HTML}{006400}
\definecolor{lightgreen}{HTML}{9CFF57}
\definecolor{purple}{HTML}{7200CA}
\definecolor{verylightgrey}{HTML}{F1F1F1}

\definecolor{diffstart}{named}{blue}%{Grey}
\definecolor{diffincl}{named}{green}
\definecolor{diffrem}{named}{red}

\newcommand{\extrabold}{\bfseries}

\usepackage{listings}
  \lstdefinelanguage{text}{
	basicstyle=\ttfamily\extrabold\scriptsize,
	identifierstyle=\color{black},
  }

\usepackage{listings}
  \lstdefinelanguage{diff}{
	basicstyle=\ttfamily\extrabold\scriptsize,
	morecomment=[f][\color{diffstart}]{@},
	morecomment=[f][\color{diffincl}]{+},
	morecomment=[f][\color{diffrem}]{-},
        keepspaces=true,
	identifierstyle=\color{black},
  }



% Very convenient to add comments on the paper. Just set the boolean
% to false before sending the paper:
\usepackage{ifthen}
\newboolean{showcomments}
\setboolean{showcomments}{true}
%\setboolean{showcomments}{false}
\ifthenelse{\boolean{showcomments}}
{ \newcommand{\mynote}[2]{\textcolor{red}{
    \fbox{\bfseries\sffamily\scriptsize#1}
    {\small$\blacktriangleright$\textsf{\emph{#2}}$\blacktriangleleft$}}}}
{ \newcommand{\mynote}[2]{}}

\newcommand{\jl}[1]{\mynote{Julia}{#1}}
\newcommand{\lx}[1]{\mynote{JLX}{#1}}
\newcommand{\ft}[1]{\mynote{Ferdian}{#1}}

\hyphenation{App-Evolve}

\begin{document}

\def \toolname {AppEvolve}
\title{Automated Deprecated-API Usage Update for Android Apps: How Far Are We?}

\author{
\IEEEauthorblockA{
Ferdian Thung\IEEEauthorrefmark{1},
Stefanus A. Haryono\IEEEauthorrefmark{1},
Lucas Serrano\IEEEauthorrefmark{2},
Gilles Muller\IEEEauthorrefmark{3},
Julia Lawall\IEEEauthorrefmark{3},
David Lo\IEEEauthorrefmark{1} and
Lingxiao Jiang\IEEEauthorrefmark{1}}

\IEEEauthorblockA{\IEEEauthorrefmark{1}School of Information Systems, Singapore Management University\\
Email: \{ferdianthung,stefanusah,davidlo,lxjiang\}@smu.edu.sg}
\IEEEauthorblockA{\IEEEauthorrefmark{2}Sorbonne University/Inria/LIP6\\
Email: lucas.serrano@lip6.fr}
\IEEEauthorblockA{\IEEEauthorrefmark{3}Inria\\
Email: \{Gilles.Muller,Julia.Lawall\}@inria.fr}
}

\maketitle

\begin{abstract}
As the Android API evolves, some API methods may be deprecated, to be
eventually removed.  App developers face the challenge of keeping their
apps up-to-date, to ensure that the apps work in both older and newer
Android versions.  Currently, AppEvolve is the state-of-the-art approach to
automate such updates, and it has been shown to be quite effective.  Still,
the number of experiments reported is moderate, involving only API usage
updates in 41 usage locations. In this work, we replicate the evaluation of
AppEvolve and assess whether its effectiveness is generalizable. Given the
set of APIs on which AppEvolve has been evaluated, we test AppEvolve on
other mobile apps that use the same APIs. Our experiments show that
AppEvolve fails to generate applicable updates for 81.48\% of our dataset,
even though the relevant knowledge for correct API updates is available in
the examples. We first categorize the limitations of AppEvolve that lead to
these failures.  We then propose a mitigation strategy that solves 81.82\%
of these failures by a simple refactoring of the app code to better
resemble the code in the examples. The refactoring usually involves
assigning the target API method invocation and the arguments of the target
API method into variables.  Indeed, we have also seen such transformations
in the dataset distributed with the AppEvolve replication package, as
compared to the original source code from which this dataset is derived.
Based on these findings, we propose some promising future directions.
\end{abstract}

\begin{IEEEkeywords}
API usage, program transformation, Android, mobile apps
\end{IEEEkeywords}

\section{Introduction}
\input{intro.tex}

\section{AppEvolve}\label{sec:approach}
\input{approach.tex}

\section{Replication Settings}\label{sec:replication}
\input{replication.tex}

\section{Findings}\label{sec:findings}
\input{findings.tex}

\section{Mitigations}\label{sec:mitigations}
\input{mitigations.tex}

\section{Discussion}\label{sec:discuss}
\input{discuss.tex}

\section{Related Work}\label{sec:related}
\input{related.tex}

\section{Conclusion and Future Work}\label{sec:conclusion}
\input{conclusion.tex}


\balance

\bibliography{references}
\bibliographystyle{plain}

\end{document}
